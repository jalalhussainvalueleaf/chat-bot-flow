import {
  OverlayScrollbars
} from "./chunk-MIH2XKP2.js";
import {
  require_react
} from "./chunk-QJTFJ6OV.js";
import {
  __toESM
} from "./chunk-V4OQ3NZ2.js";

// node_modules/overlayscrollbars-react/overlayscrollbars-react.mjs
var import_react = __toESM(require_react(), 1);
var S = () => {
  if (typeof window > "u") {
    const n = () => {
    };
    return [n, n];
  }
  let l, o;
  const t = window, c = typeof t.requestIdleCallback == "function", a = t.requestAnimationFrame, i = t.cancelAnimationFrame, r = c ? t.requestIdleCallback : a, u = c ? t.cancelIdleCallback : i, s = () => {
    u(l), i(o);
  };
  return [
    (n, e) => {
      s(), l = r(
        c ? () => {
          s(), o = a(n);
        } : n,
        typeof e == "object" ? e : { timeout: 2233 }
      );
    },
    s
  ];
};
var F = (l) => {
  const { options: o, events: t, defer: c } = l || {}, [a, i] = (0, import_react.useMemo)(S, []), r = (0, import_react.useRef)(null), u = (0, import_react.useRef)(c), s = (0, import_react.useRef)(o), n = (0, import_react.useRef)(t);
  return (0, import_react.useEffect)(() => {
    u.current = c;
  }, [c]), (0, import_react.useEffect)(() => {
    const { current: e } = r;
    s.current = o, OverlayScrollbars.valid(e) && e.options(o || {}, true);
  }, [o]), (0, import_react.useEffect)(() => {
    const { current: e } = r;
    n.current = t, OverlayScrollbars.valid(e) && e.on(t || {}, true);
  }, [t]), (0, import_react.useEffect)(
    () => () => {
      var e;
      i(), (e = r.current) == null || e.destroy();
    },
    []
  ), (0, import_react.useMemo)(
    () => [
      (e) => {
        const v = r.current;
        if (OverlayScrollbars.valid(v))
          return;
        const f = u.current, y = s.current || {}, b = n.current || {}, m = () => r.current = OverlayScrollbars(e, y, b);
        f ? a(m, f) : m();
      },
      () => r.current
    ],
    []
  );
};
var q = (l, o) => {
  const { element: t = "div", options: c, events: a, defer: i, children: r, ...u } = l, s = t, n = (0, import_react.useRef)(null), e = (0, import_react.useRef)(null), [v, f] = F({ options: c, events: a, defer: i });
  return (0, import_react.useEffect)(() => {
    const { current: y } = n, { current: b } = e;
    if (!y)
      return;
    const m = y;
    return v(
      t === "body" ? {
        target: m,
        cancel: {
          body: null
        }
      } : {
        target: m,
        elements: {
          viewport: b,
          content: b
        }
      }
    ), () => {
      var R;
      return (R = f()) == null ? void 0 : R.destroy();
    };
  }, [v, t]), (0, import_react.useImperativeHandle)(
    o,
    () => ({
      osInstance: f,
      getElement: () => n.current
    }),
    []
  ), // @ts-ignore
  import_react.default.createElement(s, { "data-overlayscrollbars-initialize": "", ref: n, ...u }, t === "body" ? r : import_react.default.createElement("div", { "data-overlayscrollbars-contents": "", ref: e }, r));
};
var g = (0, import_react.forwardRef)(q);
export {
  g as OverlayScrollbarsComponent,
  F as useOverlayScrollbars
};
//# sourceMappingURL=overlayscrollbars-react.js.map
